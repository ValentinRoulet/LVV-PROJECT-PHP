<!DOCTYPE html>
<html>
<head>
	<title>DmpConnect-JS test pad - DMP examples</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

	<link href="examples.css" rel="stylesheet">

	<script type="text/javascript" src="wrapperjs/dmpconnect.js"></script>
	<script type="text/javascript" src="wrapperjs/dmpconnect_dmp.js"></script>

	<script type="text/javascript" src="examples.js"></script>
	<script type="text/javascript" src="examples_dmp.js"></script>
</head>

<body onload="initializePageState()">
    <label class="switch">
        <input id="disabling_action" type="checkbox"/>
        <span class="slider"></span>
    </label>
    <span class="switch-label" onClick="document.getElementById('disabling_action').click();">
      DÃ©verrouiller toutes les fonctions
    </span>
    <div id="tooltip"></div>
    <div id="appState"></div>

    <a target="_blank" href="https://jsoneditoronline.org/">[jsonedit]</a>
    <br class="clear"/>

    <div class="float-left">
        <!--High-level API-->
        <div class="container">
            <h2 class="collapsible">High-level API</h2>
            <div class="content">
                <div class="bloc">
                    <button type="button" class="collapsible">High-level API examples</button>
                    <div class="content">
                        <a href="javascript:searchDocumentsTest()"		>Search documents </a>
                        <a href="javascript:initDmpConnector()"			>Init the DmpConnector and leave the session
                            open</a>
                        
                    </div>
                </div>

                <div class="bloc">
                    <button type="button" class="collapsible"			>High Level API functions</button>
                    <div class="content">
                        <b>Session</b><br/>
                        
                        <label for="TseCredentials">TSE credentials</label>          <input type="text" id="TseCredentials" /> <br />          
                        Proxy server:
                        <input type="text"
                                name="Proxy server used for the session"
                                value=""
                                id="sessionProxyServer"/><br/>
                        Proxy port:
                        <input type="text"
                                name="Proxy port used for the session"
                                value=""
                                id="sessionProxyPort"/><br/>
                        Proxy username:
                        <input type="text"
                                name="Proxy username used for the session"
                                value=""
                                id="sessionProxyUsername"/><br/>
                        Proxy password:
                        <input type="text"
                                name="Proxy password used for the session"
                                value=""
                                id="sessionProxyPassword"/><br/>
                        Application id (optional):
                        <input type="text"
                               name="Application identifier"
                               value=""
                               id="applicationId"/><br/>
                        <a href="javascript:hl_openSession()"			>hl_openSession </a>
                        <a href="javascript:hl_closeSession()" data-required="session">hl_closeSession </a>
                        <a href="javascript:hl_getSessionState()" data-required="session">hl_getSessionState </a>
                        Custom DcParameter (in base64):<br/>
                        <textarea id="customDcParameter" rows="4" cols="50"></textarea><br />
                        <a href="javascript:hl_openSessionWithCustomDcParam()"           >openSessionWithCustomDcParam                         </a><br />
                        
                    </div>
                </div>

                <div class="bloc">
                    <button type="button" class="collapsible">DcParameters management functions</button>
                    <div class="content">
                        DcParameter (in base64):</br>
                        <textarea id="registrationDcParameter" rows="4" cols="50"></textarea><br />

                        <a href="javascript:registerDcParameter()">/registerDcParameter</a>
                        <a href="javascript:unregisterDcParameter()">/unregisterDcParameter</a>
                        <a href="javascript:isDcParameterRegistered()">/isDcParameterRegistered</a>
                        <a href="javascript:getAllowedOrigins()">/getAllowedOrigins</a>
                    </div>
                </div>
            </div>
        </div>

        <!--Other functions-->
        <div class="container">
            <h2 class="collapsible">Other functions</h2>
            <div class="content" data-required="session">
                <div class="bloc">
                    <a href="javascript:hl_getInteropCodes()"		>hl_getInteropCodes() </a>
                    <a href="javascript:hl_getUpdatedTypeCode()"    >hl_getUpdatedTypeCode()</a>
                    <a href="javascript:hl_getMajorityAge()"		>hl_getMajorityAge() </a>
                    WebPS root URL:
                    <input type="text"
                           name="webPsRootUrl"
                           value=""
                           id="webPsRootUrl"/>
                    <a href="javascript:hl_setWebPsRootUrl()"		>hl_setWebPsRootUrl </a>
                </div>
            </div>
        </div>

    </div>

    <!--Cards-->
    <div class="container float-left">
        <h2 class="collapsible">Cards</h2>
        <div class="content">

            <!--Readers-->
            <div class="bloc">
                <button type="button" class="collapsible">Readers</button>
                <div class="content" data-required="session">

                    <a href="javascript:hl_getPcscReaders()" data-required="session">hl_getPcscReaders </a>

                    CPS reader index:
                    <input type="number"
                           name="PC/SC CPx reader index"
                           step="1"
                           value="0"
                           id="cpxReaderIndex"/>
                    <br/>

                    CPS reader name:
                    <select id="listOfCpxReaderNames">
                    </select>
                    <br/>

                    Vitale reader index:
                    <input type="number"
                           name="PC/SC Vitale reader index"
                           step="1"
                           value="1"
                           id="vitaleReaderIndex"/>
                    <br/>

                    Vitale reader name:
                    <select id="listOfVitaleReaderNames">
                    </select>
                </div>
            </div>

            <!--CPX-->
            <div class="bloc">
                <button type="button" class="collapsible">CPX</button>
                <div class="content" data-required="session">
                    <a href="javascript:hl_getCpxCard()" data-required="session">hl_getCpxCard </a>

                    PIN code CPS:
                    <input type="text"
                           name="CPx PIN code"
                           value="1234"
                           id="cpsPinCode"/>
                    <br/>

                    <a href="javascript:hl_readCpxCard()" data-required="cpxCard">hl_readCpxCard </a>
                    CPx card checking interval:
                    <input type="number"
                           name="CPx card checking interval in seconds"
                           step="1"
                           value="5"
                           id="cpxReaderCheckingInterval"/>
                    <br/>
                </div>
            </div>
            <!--Vitale-->
            <div class="bloc">
                <button type="button" class="collapsible">Vitale</button>
                <div class="content" data-required="session">

                    <a href="javascript:hl_getVitaleCard()" data-required="session">hl_getVitaleCard </a>
                    <a href="javascript:hl_readVitaleCard()" data-required="vitaleCard">hl_readVitaleCard </a>
                    Vitale card checking interval:
                    <input type="number"
                           name="Vitale card checking interval in seconds"
                           step="1"
                           value="5"
                           id="vitaleReaderCheckingInterval"/>
                    <br/>

                    <table style="width:100%;" data-required="vitaleCardRead">
                        <thead>
                        <th colspan="2">Vitale data</th>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Patient</td>
                            <td>
                                <select id="vitalePatientSelector"
                                        onchange="javascript:onSelectVitalePatientData()"></select>
                            </td>
                        </tr>
                        <tr>
                            <td>Name</td>
                            <td><input type="text" value="" id="vitalePatientName" readonly/></td>
                        <tr>
                        <tr>
                            <td>BirthName</td>
                            <td><input type="text" value="" id="vitalePatientBirthName" readonly/></td>
                        </tr>
                        <tr>
                            <td>Given</td>
                            <td><input type="text" value="" id="vitalePatientGiven" readonly/></td>
                        </tr>
                        <tr>
                            <td>Birthday</td>
                            <td><input type="text" value="" id="vitalePatientBirthday"></td>
                        </tr>
                        <tr>
                            <td>Birth rank</td>
                            <td><input type="text" value="" id="vitalePatientBirthRank"></td>
                        </tr>
                        <tr>
                            <td>NIR (nirOD)</td>
                            <td><input type="text" value="" id="vitalePatientNir" readonly></td>
                        </tr>
                        <tr>
                            <td>Certified NIR</td>
                            <td><input type="text" value="" id="vitalePatientCertifiedNir" readonly/></td>
                        </tr>
                        <tr>
                            <td>INS-C</td>
                            <td><input type="text" value="" id="vitalePatientInsC" readonly/></td>
                        </tr>
                        <tr>
                            <td>Quality</td>
                            <td><input type="text" value="" id="vitalePatientQuality" readonly/></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!--DMP-->
    <div class="container float-left">
        <h2 class="collapsible">DMP</h2>
        <div class="content">

            <div class="bloc">
                <button type="button" class="collapsible">DMP Connector</button>
                <div class="content" data-required="cpxCard">
                    DMP server name:
                    <input type="text"
                           name="DMP server prefix (name) such as xxx in xxx.lps.dmp.gouv.fr"
                           value="formation1"
                           id="dmpServerName"/><br/>
                    Proxy server:
                    <input type="text"
                           name="Proxy server used for the DMP Connector"
                           value=""
                           id="dmpProxyServer"/><br/>
                    Proxy port:
                    <input type="text"
                           name="Proxy port used for the DMP Connector"
                           value=""
                           id="dmpProxyPort"/><br/>
                    Proxy username:
                    <input type="text"
                           name="Proxy username used for the DMP Connector"
                           value=""
                           id="dmpProxyUsername"/><br/>
                    Proxy password:
                    <input type="text"
                           name="Proxy password used for the DMP Connector"
                           value=""
                           id="dmpProxyPassword"/><br/>

                    <a href="javascript:hl_createDmpConnector()">hl_createDmpConnector </a>
                    
                    <input type="checkbox"
                           id="enableSecretConnection"
                           name="enableSecretConnection"
                           onclick="javascript:onConfidentialityLevelChanged()"/>
                    <label for="enableSecretConnection">hl_setConfidentialityLevel()</label>
                    <br/>

                    Local root OID
                    <input type="text" value="2.25.123456789" id="localPatientRootOid"/>
                    <br/>
                    <br/>
                    <table style="width:100%;"
                           data-required="DmpConnector">
                        <thead>
                        <tr>
                            <th colspan="2">Practice Location/Settings</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Practice Location indice</td>
                            <td>
                                <select id="listOfPracticeLocationIndex">
                                    <option value="0" selected="selected">0</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Practice setting</td>
                            <td>
                                <select id="listOfPracticeSetting">
                                    <option value="AMBULATOIRE" selected="selected"	>Ambulatoire</option>
                                    <option value="DEPISTAGE"						>DÃ©pistage</option>
                                    <option value="ETABLISSEMENT"					>Etablissement de santÃ©</option>
                                    <option value="HAD"								>Hospitalisation Ã  domicile</option>
                                    <option value="MAD"								>Maintien Ã  domicile</option>
                                    <option value="AMO"								>Organisme d'assurance maladie obligatoire</option>
                                    <option value="SAMU_SMUR"						>SAMU/SMUR</option>
                                    <option value="PALLIATIF"						>Soins palliatifs</option>
                                    <option value="SAD"								>Soins Ã  domicile</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <a href="javascript:hl_setPracticeLocation()"		>hl_setPracticeLocation</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                </div>
            </div>

            <div class="bloc">
                <button type="button" class="collapsible">DMP Data</button>
                <div class="content" data-required="DmpConnector">
                    <table style="width:100%;">
                        <thead>
                        <tr>
                            <th colspan="2">Input patient data</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Patient</td>
                            <td>
                                <select id="listOfTestIns" onChange="javascript:onPatientChange()">
                                </select>
                            </td>
                        <tr>
                            <td>NIR OD</td>
                            <td><input type="text" value="" id="TD00_nirOD_in"/></td>
                        </tr>
                        <tr>
                            <td>Birth date (format: YYYYMMDD)</td>
                            <td><input type="text" value="" id="TD00_birthDate_in"/></td>
                        </tr>
                        <tr>
                            <td>Birth rank</td>
                            <td><input type="text" value="" id="TD00_birthRank_in"/></td>
                        </tr>
                        <tr>
                            <td>NIR individu</td>
                            <td><input type="text" value="" id="TD00_nirIndividu_in"/></td>
                        </tr>
                        <tr>
                            <td><a href="javascript:hl_getCertifiedIdentity()">hl_getCertifiedIdentity</a></td>
                        </tr>
                        <tr>
                            <th colspan="2">Certified Identity</th>
                        </tr>
                        <tr>
                            <td>Name</td>
                            <td><input type="text" value="" id="TD00_name_out" readonly/></td>
                        </tr>
                        <tr>
                            <td>Given</td>
                            <td><input type="text" value="" id="TD00_given_out" readonly/></td>
                        </tr>
                        <tr>
                            <td>Birth date</td>
                            <td><input type="text" value="" id="TD00_birthDate_out" readonly/></td>
                        </tr>
                        <tr>
                            <td>INS-NIR</td>
                            <td><input type="text" value="" id="TD00_nirIndividu_out"/></td>
                        </tr>
                        <tr>
                            <th colspan="2">INS-C to INS-NIR</th>
                        </tr>
                        <tr>
                            <td>
                                <label for="PatientINSC">INS-C</label>
                            </td>
                            <td>
                                <input type="text" value="" id="PatientINSC"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <a href="javascript:hl_getInsNirFromInsC()">hl_getInsNirFromInsC</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="bloc">
                <button type="button" class="collapsible">DMP Search</button>
                <div class="content" data-required="DmpConnector">
                    <a href="javascript:hl_getAccessibleDMPList()"	>hl_getAccessibleDMPList() </a>
                    
                            Find patient inputs:<br/>
        <table>
            <tr>
                <td>Name</td>
                <td>        
                    <input type  = "text"
                           name  = "Partial name of the patient, for hl_findPatients"
                           value = ""
                           id    = "findPatientName"/>
                </td>
                <td>
                    <input type="checkbox" id="findPatientApproxName" name="Approx."/>
                    <label for="findPatientApproxName">Approx.</label>
                </td>
            </tr>
            <tr>
                <td>Given</td>
                <td colspan="2">
                    <input type  = "text"
                        name  = "Patient given, for hl_findPatients"
                        value = ""
                        id    = "findPatientGiven"/>
                </td>
            </tr>
            <tr>
                <td>Birthday</td>
                <td colspan="2">
                    <input type="text"
                           name="Patient birthday"
                           value=""
                           id="findPatientBirthday"/>
                </td>
            </tr>
            <tr>
                <td>City</td>
                <td>        
                    <input type  = "text" 
                           name  = "Partial city name of the patient, for hl_findPatients"
                           value = ""
                           id    = "findPatientCity"/>
                </td>
                <td>
                    <input type="checkbox" id="findPatientApproxCity" name="Approx."/>
                    <label for="findPatientApproxCity">Approx.</label>
                </td>
            </tr>
        </table>
                    <a href="javascript:hl_findPatients()"			>hl_findPatients() </a>
                </div>
            </div>
            <div class="bloc">
                <button type="button" class="collapsible" style="margin-top: 10px;">DMP Access</button>
                <div class="content" data-dmprequired="certifiedIdentity">
                    <a href="javascript:hl_setDmpAccessModeBrisDeGlace()"				>hl_setDmpAccessMode(Bris de glace) </a>
                    
                    <a href="javascript:hl_getDirectAuthenticationDMPStatus()"			>hl_getDirectAuthenticationDMPStatus </a>
                    <a href="javascript:hl_updateUserDmpAccessAuthorization_Add()"		>hl_updateUserDmpAccessAuthorization(AddAuthorization) </a>
                    <a href="javascript:hl_updateUserDmpAccessAuthorization_AddMT()"	>hl_updateUserDmpAccessAuthorization(AddAuthorization as treating physician) </a>
                    <a href="javascript:hl_updateUserDmpAccessAuthorization_RmMT()"		>hl_updateUserDmpAccessAuthorization(Remove treating physician status) </a>
                    <a href="javascript:hl_updateUserDmpAccessAuthorization_Remove()"	>hl_updateUserDmpAccessAuthorization(RemoveAuthorization)</a>
                </div>
            </div>

            <div class="bloc">
                <button type="button" class="collapsible">DMP Admin</button>
                <div class="content" data-dmprequired="certifiedIdentity">
                    <div data-dmprequired="certifiedIdentity">

                        <a href="javascript:hl_createDmp()"					>hl_createDmp </a>
                        <a href="javascript:hl_createDmpAndOtp()"			>hl_createDmpAndOtp() </a>
                        <a href="javascript:hl_createAcknowledgementPdf()"	>hl_createAcknowledgementPdf() </a>
                        <a href="javascript:hl_closeDmp()"					>hl_closeDmp </a>
                        <a href="javascript:hl_reactivateDmp()"				>hl_reactivateDmp() </a>
                        <a href="javascript:hl_getDmpAuthorizationsList()"	>hl_getDmpAuthorizationsList() </a>
                        <a href="javascript:hl_getOtpChannelValue()"		>hl_getOtpChannelValue </a>
                        <a href="javascript:hl_getPatientWebAccessPdf()"	>hl_getPatientWebAccessPdf </a>

                        OTP SMS:
                        <input type="text"
                               name="Channel sms for hl_getPatientWebAccessPdf"
                               value="0678451245"
                               id="otpSMS"/>
                        <br/>

                        OTP email:
                        <input type="text"
                               name="Channel email for hl_getPatientWebAccessPdf"
                               value=""
                               id="otpEmail"/>


                        <a href="javascript:hl_getWebPsDmpUrls()">hl_getWebPsDmpUrls </a>

                        <hr/>
                        <b>Administrative Datas</b>
                        <a href="javascript:hl_getDmpAdministrativeData()">hl_getDmpAdministrativeData </a>
                        <table style="width:100%;min-width: 560px;">
                            <thead>
                            <tr>
                                <th colspan="2">Civil status</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>Name</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientName"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Given</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientGiven"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Gender</td>
                                <td>
                                    <select id="dmpPatientGender">
                                        <option value="1">UnknownGender</option>
                                        <option value="2">Mr</option>
                                        <option value="3">Mme</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Sex</td>
                                <td>
                                    <select id="dmpPatientSex">
                                        <option value="1">UnknownSex</option>
                                        <option value="2">Male</option>
                                        <option value="3">Female</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Birth date</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientBirthDate"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Birth country
                                </td>
                                <td>
                                    <input type="text" value="" id="dmpPatientBirthCountry"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Birth name
                                </td>
                                <td>
                                    <input type="text" value="" id="dmpPatientBirthName"/>
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">Contact</th>
                            </tr>
                            <tr>
                                <td>Address</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientAddress"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Address complement</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientAddressComplement"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Postal Code</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientPostalCode"/>
                                </td>
                            </tr>
                            <tr>
                                <td>City</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientCity"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Country</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientCountry"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Landline Phone</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientLandlinePhone"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Mobile Phone</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientMobilePhone"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td>
                                    <input type="text" value="" id="dmpPatientEmail"/>
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">Oppositions</th>
                            </tr>
                            <tr>
                                <td>Bris de glace opposition</td>
                                <td>
                                    <input type="checkbox" id="dmpPatientBrisDeGlaceOpposition"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Centre 15 opposition</td>
                                <td>
                                    <input type="checkbox" id="dmpPatientCentre15Opposition"/>
                                </td>
                            </tr>
                            <tr>
                                <th colspan="2">Guardian</th>
                            </tr>
                            <tr>
                                <td>has guardian</td>
                                <td>
                                    <input type="checkbox" id="dmpPatientHasGuardian"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Role</td>
                                <td>
                                    <select id="dmpGuardianRole">
                                        <option value="1">Father</option>
                                        <option value="2">Mother</option>
                                        <option value="3">StepFather</option>
                                        <option value="4">StepMother</option>
                                        <option value="5">GrandFather</option>
                                        <option value="6">GrandMother</option>
                                        <option value="7">GrandGrandFather</option>
                                        <option value="8">GrandGrandMother</option>
                                        <option value="9">Aunt</option>
                                        <option value="10">Uncle</option>
                                        <option value="11">Brother</option>
                                        <option value="12">Sister</option>
                                        <option value="13">Guardian</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Name</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianName">
                                </td>
                            </tr>
                            <tr>
                                <td>Given</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianGiven">
                                </td>
                            </tr>
                            <tr>
                                <td>Gender</td>
                                <td>
                                    <select id="dmpGuardianGender">
                                        <option value="1">UnknownGender</option>
                                        <option value="2">Mr</option>
                                        <option value="3">Mme</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Address</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianAddress"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Address complement</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianAddressComplement"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Postal Code</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianPostalCode"/>
                                </td>
                            </tr>
                            <tr>
                                <td>City</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianCity"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Landline Phone</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianLandlinePhone"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Mobile Phone</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianMobilePhone"/>
                                </td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td>
                                    <input type="text" value="" id="dmpGuardianEmail"/>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <a href="javascript:hl_updateDmpAdministrativeData()">hl_updateDmpAdministrativeData </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Document handling-->
    <div class="container float-left">
        <h2 class="collapsible">Document handling</h2>
        <div class="content">

            <!--Send document-->
            <div class="bloc">
                <button type="button" class="collapsible">Send document</button>
                <div class="content" data-dmprequired="certifiedIdentity">

                    <table>
                        <tr>
                            <td>Title</td>
                            <td><input type="text" value="" id="documentTitle"/></td>
                        </tr>
                        <tr>
                            <td>Description</td>
                            <td><input type="text" value="" id="documentDescription"/></td>
                        </tr>
                        <tr>
                            <td>Visibility</td>
                            <td>
                                <input type="checkbox" id="checkNormal" name="checkNormal" onclick="javascript:clickVisibility(this)">
                                <label for="checkNormal">Normal</label>
                                <input type="checkbox" id="checkPsHidden" name="checkPsHidden" onclick="javascript:clickVisibility(this)">
                                <label for="checkPsHidden">HP hidden</label>
                                <input type="checkbox" id="checkPatientHidden" name="checkPatientHidden" onclick="javascript:clickVisibility(this)">
                                <label for="checkPatientHidden">Patient hidden</label>
                                <input type="checkbox" id="checkGuardianHidden" name="checkGuardianHidden" onclick="javascript:clickVisibility(this)">
                                <label for="checkGuardianHidden">Guardian hidden</label>
                            </td>
                        </tr>
                        <tr>
                            <td>Replaced OID</td>
                            <td><input type="text" value="" id="replacedDocumentOid"/></td>
                        </tr>
                        <tr>
                            <td>Creation date</td>
                            <td><input type="text" value="" id="documentCreationDate"/></td>
                        </tr>
                        <tr>
                            <td>Event start date</td>
                            <td><input type="text" value="" id="documentServiceStartDate"/></td>
                        </tr>
                        <tr>
                            <td>Event stop date</td>
                            <td><input type="text" value="" id="documentServiceStopDate"/></td>
                        </tr>
                    </table>

                    Local patient ID: <input type="text" value="patient_42" id="localPatientId"/><br/>

                    <b>Format</b>
                    <select id="documentFormat" onchange="automaticDocumentCategoryBasedOnFormat()">
                        <optgroup label="Simple Document">
                            <option value="JPEG">jpeg</option>
                            <option value="PDF">pdf</option>
                            <option value="RTF">rtf</option>
                            <option value="TIFF">tiff</option>
                            <option value="TXT">txt</option>
                        </optgroup>
                        <optgroup label="Structured Document">
                            <option value="VSM">VSM</option>
                            <option value="CrBio">CrBio</option>
                            <option value="DLU">DLU</option>
                            <option value="DLU-FLUDR">Fiche de liaison d'urgence - retour des urgences</option>
                            <option value="DLU-FLUDT">Fiche de liaison d'urgence - transfert vers les urgences
                            </option>
                        </optgroup>
                    </select>
                    <br/>
                    Document category:
                    <select id="documentCategory">
                        <option value="11488-4">CR ou fiche de consultation ou de visite</option>
                        <option value="11506-3">CR ou fiche de suivi de soins par auxiliaire mÃ©dical</option>
                        <option value="34112-3">CR hospitalier (sÃ©jour)</option>
                        <option value="11490-0">Lettre de liaison Ã  la sortie d'un Ã©tablissement de soins</option>
                        <option value="67851-6">CR d'admission</option>
                        <option value="15507-7">CR de passage aux urgences</option>
                        <option value="11502-2">CR d'examens biologiques</option>
                        <option value="11526-1">CR d'anatomie et de cytologie pathologiques</option>
                        <option value="18748-4">CR d'imagerie mÃ©dicale</option>
                        <option value="70004-7">CR d'acte diagnostique (autre)</option>
                        <option value="75497-8">CR de tÃ©lÃ©-mÃ©decine (tÃ©lÃ©-consultation)</option>
                        <option value="34794-8">CR de rÃ©union de concertation pluridisciplinaire</option>
                        <option value="47420-5">CR de bilan fonctionnel (par auxiliaire mÃ©dical)</option>
                        <option value="75492-9">CR d'acte diagnostique Ã  visÃ©e prÃ©ventive ou de dÃ©pistage</option>
                        <option value="34749-2">CR de consultation prÃ©-anesthÃ©sique</option>
                        <option value="77436-4">CR d'anesthÃ©sie</option>
                        <option value="34874-8">CR opÃ©ratoire</option>
                        <option value="15508-5">CR d'accouchement</option>
                        <option value="11505-5">CR d'acte thÃ©rapeutique (autre)</option>
                        <option value="75482-0">CR d'acte thÃ©rapeutique Ã  visÃ©e prÃ©ventive</option>
                        <option value="34133-9">SynthÃ¨se d'Ã©pisode de soins</option>
                        <option value="52040-3">Document encapsulant une image d'illustration non DICOM</option>
                        <option value="57833-6">Prescription de mÃ©dicaments</option>
                        <option value="57832-8">Prescription de soins</option>
                        <option value="57828-6">Prescription (autre)</option>
                        <option value="60593-1">Dispensation mÃ©dicamenteuse</option>
                        <option value="18761-7">Note de transfert (dont lettre de liaison Ã  l'entrÃ©e en Ã©tablissement de soins)</option>
                        <option value="18776-5">Plan personnalisÃ© de soins</option>
                        <option value="51969-4">CR de gÃ©nÃ©tique molÃ©culaire</option>
                        <option value="60591-5">SynthÃ¨se du dossier mÃ©dical</option>
                        <option value="80565-5">CR d'administration de mÃ©dicaments</option>
                        <option value="BIL_AUTO">CR de bilan d'Ã©valuation de la perte d'autonomie
                        <option value="SYNTH">SynthÃ¨se</option>
                        <option value="DISP_AUT">Dispensation (autre)</option>
                        <option value="PROT_ALD">Protocole de soins ALD</option>
                        <option value="CERT_DECL">Certificat, dÃ©claration</option>
                        <option value="EXPPAT_1">VolontÃ©s et droits du patient</option>
                        <option value="EXPPAT_2">Document du patient</option>
                        <option value="EXPPAT_3">Directives anticipÃ©es</option>
                    </select>

                    AdditionalAuthors:
                    <div class="additionalAuthors">
                        <h4>Add an author</h4>
                        <table style="width: 100%;">
                            <tr>
                                <td>Name</td>
                                <td><input type="text" id="additionalAuthorName"></td>
                            </tr>
                            <tr>
                                <td>Given</td>
                                <td><input type="text" id="additionalAuthorGiven"></td>
                            </tr>
                            <tr>
                                <td>Profession Code</td>
                                <td><input type="text" id="additionalAuthorProfessionCode"></td>
                            </tr>
                            <tr>
                                <td>Profession OID</td>
                                <td><input type="text" id="additionalAuthorProfessionOid"></td>
                            </tr>
                            <tr>
                                <td>Specialty Code</td>
                                <td><input type="text" id="additionalAuthorSpecialityCode"></td>
                            </tr>
                            <tr>
                                <td>Internal Id</td>
                                <td><input type="text" id="additionalAuthorInternaId"></td>
                            </tr>
                        </table>

                        <input type="button" 
                                 id="additionalAuthorAddAuthor"
                              value="Add author"
                            onclick="addAdditionalAuthor()"/>
                        
                        <h4>Predefined authors</h4>

                        <input type="button"
                                 id="additionalAuthorAddSample1"
                              value="Add doctor"
                            onclick="addAdditionalSample1()"/>
                        <input type="button"
                                 id="additionalAuthorAddSample2"
                              value="Add specialist"
                            onclick="addAdditionalSample2()"/>
                        <input type="button"
                                 id="additionalAuthorAddSample3"
                              value="Add patient"
                            onclick="addAdditionalSample3()"/>
                        
                        <h4>Additional author list</h4>
                        <table style="width: 100%;" id="additionalAuthorListTable">
                            <tr>
                                <th style="border: 1px solid gray;">Name</th>
                                <th style="border: 1px solid gray;">Given</th>
                                <th style="border: 1px solid gray;">Profession</th>
                                <th style="border: 1px solid gray;">Remove</th>
                            </tr>
                        </table>

                        <input type="button"
                                 id="additionalAuthorClearAuthor"
                              value="Clear author list"
                            onclick="clearAdditionalAuthors()"/>
                    </div>

                    <div class="eventCodes">
                        <h4>Manual event codes:</h4>
                        <!-- Event code adder -->
                        <table style="width: 100%;">
                            <tr>
                                <td>Classification</td>
                                <td><select id="EventCodeClassification">
                                    <option value="CCAM">CCAM (Acte mÃ©dical)</option>
                                    <option value="CIM_10">CIM-10 (Maladie)</option>
                                    <option value="DRC">DRC (RÃ©sultat de consultation)</option>
                                    <option value="LOINC">LOINC (Observation)</option>
                                    <option value="SNOMED_3_5_VF">SNOMED 3.5 VF (Maladie)</option>
                                </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Code</td>
                                <td><input type="text" id="eventCodeCode"/></td>
                            </tr>
                            <tr>
                                <td>Description</td>
                                <td><input type="description" id="eventCodeDescription"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <input type="button"
                                           id="btnAddEventCode"
                                           value="Add Event code"
                                           onclick="addEventCode()"/>
                                </td>
                            </tr>
                        </table>
                        <br/>
                        Predefined Codes:<br/>
                        <input type="button"
                               id="btnAddCCAMCode"
                               value="CCAM"
                               onclick="addCCAMSampleEventCode()"/>
                        <input type="button"
                               id="btnAddCIM10Code"
                               value="CIM-10"
                               onclick="addCIM10SampleEventCode()"/>
                        <input type="button" id="btnAddDRCCode" value="DRC" onclick="addDRCSampleEventCode()"/>
                        <input type="button"
                               id="btnAddLOINCCode"
                               value="LOINC"
                               onclick="addLOINCSampleEventCode()"/>
                        <input type="button"
                               id="btnAddSNOMED_3_5"
                               value="SNOMED 3.5 VF"
                               onclick="addSNOMED35VFEventCode()"/>
                        <br/>
                        <br/>
                        Current event codes:
                        <!-- Event code list for this document -->
                        <table id="eventCodeListTable"
                               style="width:96%;border:1px solid gray;margin-left: 2%;margin-right: 2%;border-collapse: collapse;">
                            <tr style="border: 1px solid gray;">
                                <th style="border: 1px solid gray;">Classification</th>
                                <th style="border: 1px solid gray;">Code</th>
                                <th style="border: 1px solid gray;">Description</th>
                                <th style="border: 1px solid gray;"></th>
                            </tr>
                        </table>
                    </div>
                    <br/>
                    <div class="informants">
                        <h4>Informants:</h4>
                        <table style="width: 100%">
                            <tr>
                                <td>Name</td>
                                <td><input type="text" id="informantName"/></td>
                            </tr>
                            <tr>
                                <td>Given</td>
                                <td><input type="text" id="informantGiven"/></td>
                            </tr>
                            <tr>
                                <td>Type</td>
                                <td>
                                    <select id="informantType">
                                        <option value="1">Informant</option>
                                        <option value="2">Emergency contact</option>
                                        <option value="3">Trusted contact</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Relation type</td>
                                <td>
                                    <select id="informantRelationType">
                                        <option value="1">MÃ¨re</option>
                                        <option value="2">PÃ¨re</option>
                                        <option value="3">MÃ¨re biologique</option>
                                        <option value="4">PÃ¨re biologique</option>
                                        <option value="5">Belle-mÃ¨re - Ã©pouse du pÃ¨re ou de la mÃ¨re</option>
                                        <option value="6">Beau-pÃ¨re - Ã©poux du pÃ¨re ou de la mÃ¨re</option>
                                        <option value="7">Grand-mÃ¨re</option>
                                        <option value="8">Grand-pÃ¨re</option>
                                        <option value="9">ArriÃ¨re-grand-mÃ¨re</option>
                                        <option value="10">ArriÃ¨re-grand-pÃ¨re</option>
                                        <option value="11">Fille-biologique</option>
                                        <option value="12">Fils-biologique</option>
                                        <option value="13">Frere</option>
                                        <option value="14">Soeur</option>
                                        <option value="15">Demi-frÃ¨re</option>
                                        <option value="16">Demi-soeur</option>
                                        <option value="17">Petite-fille</option>
                                        <option value="18">Petit-fils</option>
                                        <option value="19">Oncle</option>
                                        <option value="20">Tante</option>
                                        <option value="21">Neveu</option>
                                        <option value="22">NiÃ¨ce</option>
                                        <option value="23">Mari</option>
                                        <option value="24">Femme</option>
                                        <option value="25">Concubin ou partenaire PACS</option>
                                        <option value="26">Personne habitant sous le mÃªme toit</option>
                                        <option value="27">Autre Proche</option>
                                        <option value="28">Voisin</option>
                                        <option value="29">Autre membre de la famille</option>
                                        <option value="30">Enfant</option>
                                        <option value="31">Cousin</option>
                                        <option value="32">Coinjoint</option>
                                        <option value="33">Fille</option>
                                        <option value="34">Fils</option>
                                        <option value="35">Tuteur</option>
                                        <option value="36">Curateur</option>
                                        <option value="37">Mandataire de sauvegarde</option>
                                        <option value="38">Inconnu</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Address
                                </td>
                                <td>
                                    <select id="informantAddress">
                                        <option value="0">Sample 1 (Workplace)</option>
                                        <option value="1">Sample 2 (Home)</option>
                                        <option value="99" selected>Unset</option>
                                    </select>
                                </td>
                            <tr>
                                <td>
                                    Telecom
                                </td>
                                <td>
                                    <select id="informantTelecom">
                                        <option value="0">Sample 1 (Mobile)</option>
                                        <option value="1">Sample 2 (Email)</option>
                                        <option value="99" selected>Unset</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <input type="button"
                                           id="btnAddInformant"
                                           value="Add Informant"
                                           onclick="addInformant()">
                                </td>
                            </tr>
                        </table>
                        <br/>
                        <!-- Informant list for this document -->
                        <table id="informantListTable"
                               style="width:96%;border:1px solid gray;margin-left: 2%;margin-right: 2%;border-collapse: collapse;">
                            <tr style="border: 1px solid gray;">
                                <th style="border: 1px solid gray;">Name</th>
                                <th style="border: 1px solid gray;">Given</th>
                                <th style="border: 1px solid gray;">Type</th>
                                <th style="border: 1px solid gray;"></th>
                            </tr>
                        </table>
                    </div>
                    <br/>
                    TreatingPhysician:
                    <select id="treatingPhysician">
                        <option value="0">Sample doctor 1 (Generalist)</option>
                        <option value="1">Sample doctor 2 (Cardio)</option>
                        <option value="2" selected>Unset</option>
                    </select>
                    <br/>
                    File to send:
                    <input type="file"
                           id="filenameId">
                    <br/>

                    Preview:
                    <pre id="file-content" style="width:310px;overflow:auto;"></pre>
                    <br/>


                    <h4>Documents</h4>
                    <table style="width: 100%;" id="documentList">
                    </table>

                    <input type="button" value="Add document" onclick="addDocumentToList()" />
                    <input type="button" value="Clear document list" onclick="clearDocumentList()" />

                    <h4>Send document(s)</h4>

                    Submission set
                    <table>
                        <tr>
                            <td>Title</td>
                            <td><input type="text" id="submissionSetTitle"/></td>
                        </tr>
                        <tr>
                            <td>Description</td>
                            <td><input type="text" id="submissionSetDescription"/></td>
                        </tr>
                    </table>

                    <input type="button" value="hl_sendDocument" onclick="sendDocument()"/>
                    <input type="button" value="hl_sendDocuments" onclick="sendDocuments()"/>
                </div>
            </div>

            <!--Search & Update document -->
            <div class="bloc">
                <button type="button" class="collapsible">Search & Update document</button>
                <div class="content" data-dmprequired="certifiedIdentity">
                    <a href="javascript:hl_findDocuments(true)">hl_findDocuments </a>
                    <a href="javascript:hl_findDocuments(false)">hl_findDocuments (without metadata)</a>
                    <table style="width: 100%">
                        <tr>
                            <td>Document handle:</td>
                            <td>
                                <input type="text"
                                       name="document handle (decimal)"
                                       value=""
                                       id="hdocId"
                                       title="Decimal value of the handle of a document. Returned by hl_findDocuments(), field: 'i_handle'"/>
                            </td>
                        </tr>
                        <tr>
                            <td>Document Unique Id:</td>
                            <td>
                                <input type="text"
                                       name="document Unique Id"
                                       value=""
                                       id="docUniqueId"
                                       title="String value. Returned by hl_findDocuments(), field: 's_uniqueId'"/>
                            </td>
                        </tr>
                        <tr>
                            <td>Document UUID:</td>
                            <td>
                                <input type="text"
                                       name="document UUID"
                                       value=""
                                       id="docUuid"
                                       title="String value. Returned by hl_findDocuments(), field: 's_uuid'"/>
                            </td>
                        </tr>
                    </table>

                    <a href="javascript:hl_getDocumentContent()">hl_getDocumentContent </a>
                    CDA headers:<br/>
                    <textarea id="documentHeaders" rows="5" cols="50" readonly></textarea>
                    <a href="javascript:hl_getDocumentContentByUniqueId()">hl_getDocumentContentByUniqueId </a>
                    <hr/>
                    <table style="width:100%;">
                        <thead>
                        <tr>
                            <th colspan="2">DocumentVisibility</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>New Visibility</td>
                            <td>
                                <select id="newVisibility">
                                    <option value="1">Normal</option>
                                    <option value="2">PatientHidden</option>
                                    <option value="4">HealthcareProfesionnalHidden</option>
                                    <option value="8">GuardianHidden</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Perform Update</td>
                            <td>
                                <a href="javascript:hl_updateDocumentVisibility()"			>hl_updateDocumentVisibility</a>
                                <a href="javascript:hl_updateDocumentVisibilityByUniqueId()">hl_updateDocumentVisibilityByUniqueId</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>


                    <a href="javascript:hl_updateDocumentStatus()"			>hl_updateDocumentStatus </a>
                    <a href="javascript:hl_updateDocumentStatusByUniqueId()">hl_updateDocumentStatusByUniqueId </a>
                    <a href="javascript:hl_deleteDocument()"				>hl_deleteDocument </a>

                    Document unique id:
                    <input type="text"
                           name="Unique id of the document to delete"
                           value=""
                           id="hdocUid"
                           title="Looks like 2.25.20486921909651175284820576726642520636. Returned in the s_uniqueId field of the answers of hl_sendDocument() and hl_findDocuments()."/>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
